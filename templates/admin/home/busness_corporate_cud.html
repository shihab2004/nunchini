{% extends 'admin/home/base.html' %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'admin/home/vendors/summernote/dist/summernote-bs4.css'%}">

{% endblock css %}

{% block body %}

<style>
  .nhano img{
    height: 150px;
    width: 250px;
  }
</style>
<div class="row grid-margin">
    <div class="col-12">


    
    <div class="card">
        <div class="card-body">

            <h4 class="card-title">{{heading}}</h4>
            

        
            {% if c_menu.img %}
            
            <div class="row">
                <div class="col nhano"><img src="{{c_menu.img.url}}" alt="" /></div>
            </div>

            {% endif %}

        
            <div class="form-group row">
                <div class="col-lg-3">
                <label class="col-form-label">Corporate Name</label>
                </div>
                <div class="col-lg-8">
                <input required value="{{obj.title}}" class="form-control" maxlength="100" name="Name" id="defaultconfig" type="text" placeholder="Corporate Name">
                </div>
            </div>
    


    

    
     
        
        <div class="form-group row">
        <div class="col-lg-3">
            <label class="col-form-label">Corporate Image</label>
        </div>
        <div class="col-lg-8">
            <input {% if not is_dt %}required{% endif %}  class="form-control"  name="image" id="defaultconfig-5" type="file">
        </div>
        
    </div>


    

    <div class="form-group row">
        <div class="col-lg-3">
          <label class="col-form-label">Description</label>
        </div>
        <div class="col-lg-8">

          <div class="row grid-margin">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  
                  <div id="summernoteExample" style="display: none;">
                  {{obj.description|safe}}
               
                  </div></div><div class="note-statusbar">  <div class="note-resizebar">    <div class="note-icon-bar"></div>    <div class="note-icon-bar"></div>    <div class="note-icon-bar"></div>  </div></div><div class="modal link-dialog" aria-hidden="false" tabindex="-1"><div class="modal-dialog">  <div class="modal-content">    <div class="modal-header">      <h4 class="modal-title">Insert Link</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>    </div>    <div class="modal-body"><div class="form-group note-form-group"><label class="note-form-label">Text to display</label><input class="note-link-text form-control  note-form-control  note-input" type="text"></div><div class="form-group note-form-group"><label class="note-form-label">To what URL should this link go?</label><input class="note-link-url form-control note-form-control note-input" type="text" value="http://"></div><label class="custom-control custom-checkbox" for="sn-checkbox-open-in-new-window"> <input type="checkbox" class="custom-control-input" id="sn-checkbox-open-in-new-window" checked=""> <span class="custom-control-indicator"></span> <span class="custom-control-description">Open in new window</span></label></div>    <div class="modal-footer"><button href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn disabled" disabled="">Insert Link</button></div>  </div></div></div><div class="modal" aria-hidden="false" tabindex="-1"><div class="modal-dialog">  <div class="modal-content">    <div class="modal-header">      <h4 class="modal-title">Insert Image</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>    </div>    <div class="modal-body"><div class="form-group note-form-group note-group-select-from-files"><label class="note-form-label">Select from files</label><input class="note-image-input form-control note-form-control note-input" type="file" name="files" accept="image/*" multiple="multiple"></div><div class="form-group note-group-image-url" style="overflow:auto;"><label class="note-form-label">Image URL</label><input class="note-image-url form-control note-form-control note-input  col-md-12" type="text"></div></div>    <div class="modal-footer"><button href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn disabled" disabled="">Insert Image</button></div>  </div></div></div><div class="modal" tabindex="-1" style="display: none;" aria-hidden="true"><div class="modal-dialog">  <div class="modal-content">    <div class="modal-header">      <h4 class="modal-title">Insert Video</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>    </div>    <div class="modal-body"><div class="form-group note-form-group row-fluid"><label class="note-form-label">Video URL? <small class="text-muted">(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)</small></label><input class="note-video-url form-control  note-form-control note-input span12" type="text"></div></div>    <div class="modal-footer"><button href="#" class="btn btn-primary note-btn note-btn-primary  note-video-btn disabled" disabled="">Insert Video</button></div>  </div></div></div><div class="modal" aria-hidden="false" tabindex="-1"><div class="modal-dialog">  <div class="modal-content">    <div class="modal-header">      <h4 class="modal-title">Help</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>    </div>    <div class="modal-body" style="max-height: 300px; overflow: scroll;"><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>ENTER</kbd></label><span>Insert Paragraph</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+Z</kbd></label><span>Undoes the last command</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+Y</kbd></label><span>Redoes the last command</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>TAB</kbd></label><span>Tab</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>SHIFT+TAB</kbd></label><span>Untab</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+B</kbd></label><span>Set a bold style</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+I</kbd></label><span>Set a italic style</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+U</kbd></label><span>Set a underline style</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+S</kbd></label><span>Set a strikethrough style</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+BACKSLASH</kbd></label><span>Clean a style</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+L</kbd></label><span>Set left align</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+E</kbd></label><span>Set center align</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+R</kbd></label><span>Set right align</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+J</kbd></label><span>Set full align</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+NUM7</kbd></label><span>Toggle unordered list</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+SHIFT+NUM8</kbd></label><span>Toggle ordered list</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+LEFTBRACKET</kbd></label><span>Outdent on current paragraph</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+RIGHTBRACKET</kbd></label><span>Indent on current paragraph</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM0</kbd></label><span>Change current block's format as a paragraph(P tag)</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM1</kbd></label><span>Change current block's format as H1</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM2</kbd></label><span>Change current block's format as H2</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM3</kbd></label><span>Change current block's format as H3</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM4</kbd></label><span>Change current block's format as H4</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM5</kbd></label><span>Change current block's format as H5</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+NUM6</kbd></label><span>Change current block's format as H6</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+ENTER</kbd></label><span>Insert horizontal rule</span><div class="help-list-item"></div><label style="width: 180px; margin-right: 10px;"><kbd>CTRL+K</kbd></label><span>Show Link Dialog</span></div>    <div class="modal-footer"><p class="text-center"><a href="http://summernote.org/" target="_blank">Summernote 0.8.8</a> · <a href="https://github.com/summernote/summernote" target="_blank">Project</a> · <a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a></p></div>  </div></div></div></div>
                </div>
              </div>
            </div>
          </div>



          <div class="form-group row">
           
            <div class="col-lg-8">
                <div class="form-check form-check-danger">
                    <label class="form-check-label">
                      <input {% if obj.is_show_in_index_page %}checked{% endif %} type="checkbox" name="is_index" class="form-check-input" >
                      Select To Show Corporate On Home Page
                    <i class="input-helper"></i></label>
                  </div>
            </div>
            
        </div>
         

        
    <div class="form-group row">
            
        <div class="col-lg-8">
            <button id="submit" onclick="DDs()" class="btn btn-primary" >Submit</button>

            {% if is_dt %}
                <a href="/admin/business/corporate/?editing=True&delete={{obj.pk}}" id="submit" class="btn btn-danger" >Delete</a>
            {% endif %}

            </div>
        </div>

    </div>
</div>
  

    </div>


</div>

{% endblock body %}

{% block js %}
<script src="{% static 'admin/home/vendors/tinymce/tinymce.min.js'%}"></script>
<script src="{% static 'admin/home/vendors/tinymce/themes/modern/theme.js'%}"></script>
<script src="{% static 'admin/home/vendors/summernote/dist/summernote-bs4.min.js'%}"></script>
<script src="{% static 'admin/home/js/editorDemo.js'%}"></script>

<script>

function DDs(e){
  const profile_form = new FormData();
  profile_form.append("img",$('input[name="image"]')[0].files[0])
  profile_form.append('csrfmiddlewaretoken',"{{ csrf_token }}");
  profile_form.append('Name',$("input[name='Name']").val())
  profile_form.append('Description',$(".note-editable").html())
  profile_form.append('is_index',$("input[name='is_index']")[0].checked)
{% if not is_dt %}
    if(!$('input[name="image"]')[0].files[0]){
      alert("Image file require")
    }else if(!$(".note-editable").html()){
      alert("Description require")
    }else if(!$("input[name='Name']").val()){
      alert("Menu Name require")
    }else{
        $.ajax({
            type:"POST",
             url:"{{submit_keyword|safe}}",
             enctype: "multipart/form-data",
             cache: false,
             processData: false,
             contentType: false,
             data:profile_form,
             beforeSend:()=>{
               $(".card").html(`
         <div class="loader-demo-box">
           <div class="dot-opacity-loader">
             <span></span>
             <span></span>
             <span></span>
           </div>
         </div>
               `)
             },
             success:(e)=>{
              
               window.location.href = "/admin/business/corporate/" 
               
           }
         })
    }
    {% else %}

    $.ajax({
      type:"POST",
       url:"{{submit_keyword|safe}}",
       enctype: "multipart/form-data",
       cache: false,
       processData: false,
       contentType: false,
       data:profile_form,
       beforeSend:()=>{
         $(".card").html(`
   <div class="loader-demo-box">
     <div class="dot-opacity-loader">
       <span></span>
       <span></span>
       <span></span>
     </div>
   </div>
         `)
       },
       success:(e)=>{
        
         window.location.href = "/admin/business/corporate/" 
         
     }
   })

    {% endif %}
  
}

$(".mu")[4].classList.add("active");
const mu =$("a[href='/admin/business/corporate/']");
mu.closest(".collapse").addClass("show")
mu.addClass("active")
</script>
{% endblock js %}


