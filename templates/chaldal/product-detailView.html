
{% load  product-tag %}


<section class="bodyTable div_all_product" >
                        <div id="div_all_product" >
                            <div class="catalogBrowser" >
                                <div class="loaded" >
                                    <div >
                                        <div class="product-detail-on-land" >
                                            <div class="product-detail-top-block" >
                                                <div class="product-detail-banner" >
                                                    <h1 class="product-detail-banner-heading" >
                                                        <span >
                                                            Why Choose <b>Chaldal</b>
                                                            ?
                                                        </span>
                                                    </h1>
                                                    <div >
                                                        <span ></span>
                                                        <img src="{{MEDIA_URL}}root/Others/Banner700WideScreen.webp" >
                                                    </div>
                                                </div>
                                            </div>
                                            <section class="product-detail-bodyWrapper" >
                                                <div class="product-detail-block" product-id="{{product.pk}}">
                                                    <article class="productDetails" itemscope itemtype="http://schema.org/Product" >
                                                        <section class="left" >
                                                            <div class="productGallery" >
                                                                <div class="productImageContainer" >
                                                                    <div class="productImage" >
                                                                        <img itemprop="image" class="productImage" src="{{product.single_image}}" >
                                                                    </div>
                                                                    <div class="zoom" >
                                                                        <img style="transform:translate3d(0%, 0%, 0px);" src="{{product.single_image}}" >
                                                                    </div>
                                                                </div>
                                                                <ul class="pictureNavigation" >

                                                                    {% for img  in  product.image %}
                                                                        <li >
                                                                            <a class="" >
                                                                                <img style="background-size:contain"  src="{{img}}"
                                                                                    >
                                                                            </a>
                                                                        </li>
                                                                    {% endfor %}
                                                                
                                                                </ul>
                                                            </div>
                                                        </section>
                                                        <section class="right" >
                                                            <div class="nameAndSubtext" >
                                                                <h1 itemprop="name" >{{product.Name}}</h1>
                                                                <span >{{product.Amount}}</span>
                                                            </div>
                                                            <div class="quantityContainer" itemprop="offers" itemscope itemtype="http://schema.org/Offer" >
                                                                <link itemprop="availability" href="http://schema.org/InStock" >
                                                                <link itemprop="url" href="knorr-soup-hot-and-sour-chicken-31-gm.html" >
                                                                <div class="discountedPriceSection" >
                                                                    <div class="discountedPrice" >
                                                                        <span itemprop="priceCurrency" content="BDT" >৳</span>
                                                                        <span itemprop="price" content="36" >
                                                                            <span >{{product.discord_price}}</span>
                                                                        </span>
                                                                    </div>
                                                                    

                                                                {% if product.percentage_off %}
                                                                <div class="fullPrice" >
                                                                    <span >MRP ৳ </span>
                                                                    <span >{{product.Price}}</span>
                                                                </div>

                                                                    <div class="discount" >
                                                                        <a class="discount" >
                                                                            <span >{{product.percentage_off}}% OFF</span>
                                                                        </a>
                                                                    </div>

                                                                {% endif %}
                                                                </div>





                                                                {% if product.is_stok %}
                                                                <section >
                                                                    <div class="quantityEditor" >
                                                                        <button class="removeButton outer zero" >–</button>
                                                                        <div class="QuantityTextContainer" >
                                                                            <div class="quantity" >
                                                                                <span>{% if product.bag_qnt %}{{product.bag_qnt.first.quantity}}{% else %}0{% endif %}</span>
                                                                            </div>
                                                                            <div class="inBag" >in bag</div>
                                                                        </div>
                                                                        <button class="addButton outer" >+</button>
                                                                    </div>
                                                                    <button id="buyNowButton" mat="/customer/checkout/?matRout=True">Buy Now</button>
                                                                </section>
                                                                {% else %}
                                                                <div class="outOfStockBtn"><span class="icon"><svg viewBox="0 0 48 48" x="0px" y="0px"><path d="M23.2653,17.9526 L30.621,17.9526 L30.621,20.9906 L32.621,20.9906 L32.621,17.3669009 L37.0392116,12.9494507 C37.3793909,13.5305585 37.5745,14.2063668 37.5745,14.9268 L37.5745,26.3048 L39.5745,26.3048 L39.5745,14.9268 C39.5745,11.6588 36.9155,8.9998 33.6465,8.9998 L18.9945,8.9998 C17.4105,8.9998 15.9215,9.6168 14.8025,10.7368 L10.7375,14.8008 C9.6175,15.9218 9.0005,17.4108 9.0005,18.9948 L9.0005,30.5598 C9.0005,33.8288 11.6595,36.4878 14.9275,36.4878 L20.0225,36.4878 L20.0225,34.4878 L14.9275,34.4878 C12.7615,34.4878 11.0005,32.7258 11.0005,30.5598 L11.0005,18.9948 C11.0005,18.6377284 11.0477994,18.2879425 11.1394092,17.9526 L17.9453,17.9526 L17.9453,21.4408 L23.2653,21.4408 L23.2653,17.9526 Z M28.4078566,10.9998 L33.6465,10.9998 C34.3675379,10.9998 35.0438064,11.1950564 35.6252102,11.5354367 L31.2072,15.9526 L23.807052,15.9526 L28.4078566,10.9998 Z M22.7297261,10.9998 L18.9945,10.9998 C17.9595,10.9998 16.9475,11.4198 16.2165,12.1508 L12.4147,15.9526 L18.1356382,15.9526 L22.7297261,10.9998 Z M30.621,34.0076 L24.966,34.0076 L24.966,32.0076 L30.621,32.0076 L30.621,26.3546 L32.622,26.3546 L32.622,32.0076 L38.275,32.0076 L38.275,34.0076 L32.622,34.0076 L32.622,39.6616 L30.621,39.6616 L30.621,34.0076 Z"></path></svg></span><span class="buttonText">Request Stock</span></div>
                                                                {%endif%}


                                                            </div>
                                                            <div class="actionButtons" >
                                                                <button class="" >
                                                                    <svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100" >
                                                                        <path d="M50,86c-0.5,0-1-0.2-1.4-0.6L15.7,52.8c-1.4-1.3-2.5-2.8-3.5-4.4c-5.4-8.9-4-20.3,3.5-27.7C20,16.4,25.8,14,31.9,14 c4.1,0,8.2,1.1,11.7,3.2c1.6,0.9,3.1,2.1,4.5,3.5c0.7,0.7,1.3,1.4,1.9,2.1c0.6-0.7,1.2-1.4,1.9-2.1c1.4-1.3,2.9-2.5,4.5-3.5 c3.5-2.1,7.6-3.2,11.7-3.2c6.1,0,11.9,2.4,16.2,6.7c7.4,7.4,8.9,18.8,3.5,27.7c-1,1.6-2.1,3.1-3.5,4.4L51.4,85.4 C51,85.8,50.5,86,50,86z M31.9,18c-5.1,0-9.8,2-13.4,5.5c-6.1,6.1-7.3,15.5-2.9,22.8c0.8,1.3,1.8,2.6,2.9,3.7L50,81.2L81.5,50 c1.1-1.1,2.1-2.3,2.9-3.7c4.4-7.4,3.3-16.8-2.9-22.8C77.9,20,73.1,18,68.1,18c-3.4,0-6.8,0.9-9.7,2.6c-1.3,0.8-2.6,1.7-3.7,2.9 c-1.2,1.2-2.2,2.5-3,3.8c-0.4,0.6-1,1-1.7,1h0c-0.7,0-1.4-0.4-1.7-1c-0.8-1.4-1.8-2.7-3-3.8c-1.1-1.1-2.4-2.1-3.7-2.8  C38.7,18.9,35.3,18,31.9,18z" ></path>
                                                                    </svg>
                                                                    <span ></span>
                                                                    <span >Favourite</span>
                                                                </button>
                                                                <button >
                                                                    <svg version="1.1" x="0px" y="0px" viewBox="0 0 100 100" >
                                                                        <g >
                                                                            <path d="M81,15.5c-4.719,0-6.938-1.268-9.508-2.736C68.815,11.234,65.78,9.5,59.999,9.5s-8.816,1.734-11.493,3.264 c-2.569,1.468-4.789,2.736-9.508,2.736s-6.938-1.268-9.507-2.736C26.814,11.234,23.78,9.5,18,9.5v4v32v4v41h4V49.889 c2.239,0.484,3.797,1.371,5.507,2.348c2.677,1.529,5.711,3.264,11.491,3.264c5.781,0,8.815-1.734,11.492-3.264 c2.57-1.469,4.789-2.736,9.509-2.736s6.938,1.268,9.509,2.736c2.171,1.24,4.577,2.615,8.492,3.09V55.5h4v-40H81z M71.492,48.764 C68.815,47.234,65.78,45.5,59.999,45.5s-8.816,1.734-11.493,3.264c-2.569,1.469-4.789,2.736-9.508,2.736s-6.938-1.268-9.507-2.736 c-1.979-1.131-4.156-2.371-7.491-2.942V13.889c2.239,0.485,3.797,1.371,5.507,2.348c2.677,1.53,5.711,3.264,11.491,3.264 c5.781,0,8.815-1.734,11.492-3.263c2.57-1.469,4.789-2.737,9.509-2.737s6.938,1.268,9.509,2.737c2.171,1.24,4.577,2.614,8.492,3.09 v31.968C75.199,50.879,73.445,49.88,71.492,48.764z" ></path>
                                                                        </g>
                                                                    </svg>
                                                                    <span ></span>
                                                                    <span >Incorrect Info?</span>
                                                                </button>
                                                            </div>
                                                            <div class="divider" ></div>
                                                            <div class="details" itemprop="description" >
                                                                <p >{{product.Description|safe}}
                                                                </p>
                                                            </div>

                                                                    
                                                                  
                                                        </section>
                                                    </article>
                                                </div>
                                                       <footer id="footer">
            <section class="footer-banner">
                <div class="banner">
                    <div class="wrap">
                        <div class="left-area">
                            <ul>
                            {% for features in  root.Features.all %}
                                <li>
                                    <span class="icon">
                                        <img src="{{features.image.url}}">
                                    </span>
                                    <span class="text">
                                        <span>{{features.name}}</span>
                                    </span>
                                </li>
                            {% endfor %}
                            </ul>
                        </div>
                        <div class="right-area">
                            <ul>
                                <li class="text">Pay with</li>
                            {% for payment in root.Payment_allow.all %}
                                <li class="icon">
                                    <img src="{{payment.get_image}}">
                                </li>
                            {% endfor %}
                                
                               
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
            <div class="footer-left">
                <div class="footerTop">
                    <h2 class="footerLogo"><img class="chaldal_logo"
                            style="background-image:url({{root.get_logo}});background-repeat:no-repeat;"
                            src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
                            alt="Chaldal.com"></h2>
                    <p>{{root.Description}}</p>
                </div>
                <div class="footerBottom">
                    {% for item in footer %}
                    <div class="list-type customer-service">
                        <p>{{item.name}}</p>
                        <ul>
                            {% for links in item.menu.all %}
                            <li><a {% if links.url %}mat="{{links.get_url}}"{%endif%}>{{links.name}}</a></li>
                            {%endfor%}
                        </ul>
                    </div>
                  {%endfor%}
                </div>
            </div>
            <div class="footer-right">
                <div class="app-download-section">
                    <div class="wrap">
                    {% if root.Play_store %}
                        <div class="google_play_store">
                            <a target="_blank" href="{{root.Play_store}}">
                                <img src="{{MEDIA_URL}}others/google_play_store.jpg">
                            </a>
                        </div>
                    {% endif %}
                    {% if root.App_store %}
                        <div class="app_store">
                            <a target="_blank" href="{{root.App_store}}">
                                <img src="{{MEDIA_URL}}others/app_store.jpg">
                            </a>
                        </div>
                    {% endif %}
                    </div>
                </div>
                <div class="contact-section">
                    <div class="phone-number">
                        <div class="wrap"><span class="phone-icon">
                        <img src="{{MEDIA_URL}}others/phone_icon.jpg"></span><span
                                class="number">0{{root.Mobile.all.first.Phone}}</span>
                        </div>
                    </div>
                    <div style="text-align: center;" class="email-address"><span class="pre-text">or email</span>
                        <span style="display: flex;flex-direction: column;" class="email">
                        {% for email in root.Email.all %}
                           <span> {{email.email}}</span>
                        {% endfor %}
                        </span>
                    </div>
                </div>
                <div class="social-section">
                    <ul>
                    {% for socalMd in root.Social_media.all %}
                        <li>
                            <a href="{{socalMd.url}}" target="_blank"><span>
                                </span><img
                                    src="{{socalMd.image.url}}"><span>
                                </span></a>
                        </li>
                    {% endfor %}
                    </ul>
                </div>
            </div>
        </footer>         
                                            </section>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
</section>



<script>
    $('.pictureNavigation a').click((e)=>{
        $('.productGallery .productImage').attr('src',e.currentTarget.querySelector('img').src)
    })
    $('.addButton').click(()=>{
        const product_id = $('.product-detail-block').attr('product-id');
        const product_div = document.querySelector('div[product-id="{{product.pk}}"]')
        const qnt_div = $('.QuantityTextContainer span');
        if(!Number(qnt_div.text())){
            const obj = {
                img:"{{product.single_image}}",
                name:"{{product.Name}}",
                price:Number("{{product.discord_price}}"),
                amount:"{{product.Amount}}",
                product_id:Number("{{product.pk}}"),
                quantity:1,
            }
            current_bag_item.push(obj)
            localStorage.setItem("current_bag_item",JSON.stringify(current_bag_item))
            bag_append_item(obj)
            qnt_div.text(Number(qnt_div.text())+ 1);
            $(`div[data-pvid="${product_id}"] .remove`).click(bar_remove_item);
        }else{
            qnt_div.text(Number(qnt_div.text())+ 1);
            updateItemToLs(product_div,Number(qnt_div.text()))
           
            
        }
        bag_ud_ax("update",product_id,Number(qnt_div.text()))
        update_little_bag_html();
        if(window.innerWidth > 768){
            //when pc laptop tablet 
            bagItemfocus(product_id,true);
        }
    })
    $('.removeButton').click(()=>{
        const product_id = $('.product-detail-block').attr('product-id');
        const qnt_div = $('.QuantityTextContainer span');
        const product_div = document.querySelector('div[product-id="{{product.pk}}"]')
        if(Number(qnt_div.text())){
            qnt_div.text(Number(qnt_div.text())+ -1);
        }
        if(Number(qnt_div.text()) >= 1){
            
            updateItemToLs(product_div,Number(qnt_div.text()))
            bag_ud_ax("update",product_id,Number(qnt_div.text()))
            update_little_bag_html()
        }else{
            bag_ud_ax("delete",product_id)
            rItemtoLs(product_id);
        }
        update_little_bag_html();
    })
</script>